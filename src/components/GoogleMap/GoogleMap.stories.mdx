import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import * as knobs from '@storybook/addon-knobs';
import constants from '~.storybook/constants';
import { GoogleMapsContextProvider } from '~/contexts/GoogleMapsContext';
import GoogleMap from './GoogleMap';
import GoogleMapFixture from './GoogleMap.fixture';

<Meta title="Components/GoogleMap" component={GoogleMap} />

# GoogleMap

Presented as with `customPinMarker`.

<Preview>
  <Story name="Base component">
    <GoogleMapsContextProvider apiKey={constants.GOOGLE_MAPS.DEVELOPMENT_API_KEY}>
      <GoogleMap
        center={knobs.object('center', GoogleMapFixture.customPinMarkerCenter, 'Presentation')}
        copy={knobs.object('copy', GoogleMapFixture.copy, 'Content')}
        customMarker={knobs.object('customMarker', GoogleMapFixture.customPinMarker, 'Content')}
        hasMarkerIndexes={knobs.boolean('hasMarkerIndexes', false, 'Presentation')}
        id="google-map"
        initialZoom={knobs.number('initialZoom', GoogleMapFixture.initialZoom, 'Presentation')}
        places={knobs.object('places', GoogleMapFixture.places, 'Content')}
      />
    </GoogleMapsContextProvider>
  </Story>
</Preview>

## API

<Props of={GoogleMap} />

## Variations

### With Place Marker Indexes

<Preview>
  <Story name="With Place Marker Indexes">
    <GoogleMapsContextProvider apiKey={constants.GOOGLE_MAPS.DEVELOPMENT_API_KEY}>
      <GoogleMap
        center={GoogleMapFixture.center}
        hasMarkerIndexes={true}
        id="google-map-indexes"
        places={GoogleMapFixture.places}
      />
    </GoogleMapsContextProvider>
  </Story>
</Preview>

### With Custom Place Marker

<Preview>
  <Story name="With Custom Place Marker">
    <GoogleMapsContextProvider apiKey={constants.GOOGLE_MAPS.DEVELOPMENT_API_KEY}>
      <GoogleMap
        center={GoogleMapFixture.customPlaceMarkerCenter}
        customMarker={GoogleMapFixture.customPlaceMarker}
        hasMarkerIndexes={false}
        id="google-map-custom-place"
        initialZoom={15}
        places={GoogleMapFixture.places}
      />
    </GoogleMapsContextProvider>
  </Story>
</Preview>
